# prepare_evaluation snapshots

    Code
      constructive::construct(combined_snapshot)
    Output
      tibble::tibble(
        year = rep(2019L, 404L),
        spatial_unit = rep("Aargau", 404L),
        nat = rep(c("ch", "int"), each = 202L),
        sex = rep(rep(c("m", "f"), 2), each = 101L),
        age = rep(seq(0, 100, by = 1), 4),
        n_benchmark = c(
          2622, 2593, 2635, 2596, 2683, 2737, 2636, 2609, 2642, 2657, 2533, 2605, 2453,
          2566, 2591, 2598, 2626, 2591, 2581, 2835, 2766, 2872, 2923, 3042, 2866, 2924,
          3057, 3114, 3054, 3089, 3088, 3005, 2935, 3078, 2895, 3124, 3033, 3092, 3085,
          3068, 2988, 2885, 2908, 2789, 2875, 3097, 3080, 3245, 3447, 3628, 3692, 4012,
          4110, 4144, 4230, 4277, 4109, 4100, 4012, 3767, 3713, 3591, 3610, 3446, 3414,
          3228, 3121, 3023, 2810, 2846, 2770, 2784, 2698, 2664, 2500, 2378, 2279, 2037,
          1832, 1473, 1409, 1407, 1230, 1103, 1043, 993, 786, 739, 628, 527, 409, 323,
          234, 170, 118, 89, 64, 49, 21, 12, 17, 2362, 2424, 2532, 2553, 2532, 2450,
          2427, 2495, 2434, 2583, 2424, 2513, 2373, 2403, 2359, 2458, 2441, 2462, 2495,
          2559, 2638, 2655, 2825, 2852, 2912, 2910, 2849, 3096, 3033, 3087, 2983, 3016,
          3025, 3025, 2956, 3016, 3070, 3205, 3226, 3033, 3028, 2916, 3009, 3170, 3040,
          3104, 3133, 3313, 3631, 3813, 3901, 4154, 4163, 4279, 4298, 4394, 4311, 4125,
          4083, 3984, 3824, 3831, 3813, 3610, 3521, 3380, 3268, 3258, 3053, 3056, 2971,
          2930, 2860, 2841, 2763, 2685, 2602, 2327, 2111, 1874, 1839, 1750, 1638, 1630,
          1440, 1428, 1256, 1211, 1041, 958, 793, 699, 529, 443, 330, 252, 188, 132, 84,
          53, 56, 1023, 1068, 1035, 1135, 1031, 1031, 1044, 1108, 1045, 970, 963, 1014,
          932, 903, 925, 885, 828, 805, 734, 844, 833, 914, 982, 1042, 1057, 1188, 1332,
          1446, 1539, 1723, 1774, 1797, 1869, 1842, 1939, 2003, 1968, 2078, 2081, 2020,
          1883, 1905, 1872, 1827, 1739, 1659, 1623, 1664, 1582, 1513, 1548, 1499, 1564,
          1516, 1554, 1494, 1368, 1224, 1144, 1129, 936, 891, 791, 741, 677, 566, 487,
          472, 445, 474, 400, 414, 365, 366, 289, 314, 316, 327, 255, 312, 248, 233,
          173, 178, 132, 103, 66, 56, 35, 33, 36, 19, 21, 7, 7, 2, 2, 1, 1, 0, 3, 978,
          994, 963, 1028, 979, 982, 974, 995, 883, 1018, 936, 897, 872, 860, 878, 810,
          752, 692, 643, 684, 678, 760, 825, 914, 977, 1018, 1194, 1325, 1440, 1493,
          1521, 1604, 1656, 1711, 1753, 1759, 1758, 1775, 1744, 1758, 1615, 1635, 1519,
          1490, 1494, 1425, 1377, 1421, 1329, 1231, 1280, 1207, 1220, 1173, 1095, 1117,
          1020, 920, 864, 883, 759, 675, 594, 569, 540, 514, 432, 418, 388, 376, 372,
          388, 294, 303, 246, 270, 222, 261, 239, 244, 243, 195, 185, 131, 127, 93, 89,
          53, 55, 42, 33, 27, 24, 14, 8, 9, 8, 3, 2, 2, 1
        ),
        n_projected = c(
          2510.168606419278, 2551.0234327456055, 2631.00166518594, 2609.017765899254,
          2669.9996910000004, 2738.000564, 2633.001198, 2593.998901, 2631.999118,
          2653.998386, 2535.9954019999996, 2592.00023581182, 2442.0016542115995,
          2548.00211909868, 2570.9990331605236, 2599.999082980212, 2610.000211924151,
          2573.9959859652013, 2548.9989234925647, 2832.00169638514, 2767.9992046000393,
          2862.99928299298, 2938.002206655768, 3033.015745458734, 2875.9996872796182,
          2920.001382147744, 3042.00195184174, 3112.997955526161, 3054.001018419231,
          3060.998038165952, 3066.9987368427132, 2988.9994710136084, 2955.00097909265,
          3065.9993149385, 2950.9789152465432, 3143.9984960676456, 3050.999347095845,
          3089.998147702757, 3079.9959293904726, 3076.0009206950976, 2983.984845192375,
          2894.0009926838543, 2938.997401648938, 2789.991148719352, 2862.003419613886,
          3098.9878422198412, 3078.0005223502717, 3247.9938683097726,
          3459.9948476088002, 3615.99103960043, 3704.9974394184965, 4011.9948063932966,
          4094.9944588809517, 4131.995731930546, 4207.995046512819, 4275.991785677098,
          4106.996402057082, 4088.990937859485, 3988.982616030367, 3751.9928894787354,
          3706.9824612218, 3596.989810141403, 3609.990785330227, 3452.9890447535445,
          3423.9835711125565, 3225.982488417735, 3114.986308607172, 3024.9916713861558,
          2817.9844417600125, 2844.98617220776, 2762.989298411945, 2784.9823869192596,
          2696.9852221162514, 2662.980481449647, 2508.982901857588, 2386.983281805674,
          2294.9809920492803, 2055.979853935232, 1837.9831590066851, 1480.98350413232,
          1397.977096520407, 1408.9792953964798, 1229.9801662967402, 1111.9795038923046,
          1039.980606567295, 996.9846752222401, 799.9846418509999, 747.98932064258,
          627.98804545456, 522.989541880471, 422.989884041705, 350.9895734300615,
          248.0000941769215, 189.999953575493, 138.00005, 90.000035, 70.99996, 45.99998,
          22, 11.000003, 14.000013, 2393.9391918053147, 2417.0020692875382,
          2514.000694458296, 2563.0173218805285, 2532.999797, 2433.9994130000005,
          2423.0007940000005, 2498.0019219999995, 2409.999139, 2565.0005, 2417.000928,
          2493.000491, 2343.9995580000004, 2394.0008780000003, 2340.998225, 2439.998669,
          2440.9998259999998, 2467.995233, 2494.002532083072, 2546.0019123291627,
          2645.99911702907, 2647.0003954715, 2796.9982727863026, 2856.000566040365,
          2880.9978322719617, 2924.9998228142936, 2868.0031066031297,
          3121.9983475262397, 3005.001121979687, 3063.9970226870437, 2978.99830070557,
          3029.999421726073, 3026.9718196789477, 3005.0030430864804, 2966.001075352318,
          3010.0021212658503, 3066.9992889961354, 3214.000166430688, 3220.0010166790626,
          3046.0002840781162, 3019.996123670338, 2914.0017207010555, 3006.0027022052,
          3169.999948396495, 3051.9889565068797, 3104.0012139552878, 3129.001534264136,
          3318.99614551422, 3630.990610741485, 3823.000139231901, 3880.9980992567675,
          4130.993788557367, 4148.994335160399, 4277.998515218022, 4292.999742760674,
          4378.992684341523, 4306.99505176348, 4125.9955089075265, 4087.9928840185225,
          3998.9945876060046, 3826.9929848891225, 3823.990553554765, 3820.988285471176,
          3615.9924332955675, 3518.994255343568, 3366.9859196480397, 3273.996717659912,
          3283.98579996257, 3032.9935502676035, 3063.995507042052, 2975.988951613683,
          2934.98536683575, 2862.9896747563275, 2863.9860897888375, 2760.9888294308603,
          2693.9860516190747, 2609.98496379765, 2338.981077073794, 2122.986395892048,
          1884.978818546968, 1832.981517656772, 1753.97586826067, 1637.9755013050499,
          1625.9793855132798, 1454.973463679954, 1412.9735780456974, 1263.9738877302561,
          1216.970180032592, 1056.9734844769998, 965.9702812319, 809.9748111560849,
          706.97319115725, 528.9693974135821, 451.987312261461, 350.9854022758475,
          247.999851, 176.000048, 118.999926, 75.00001, 44.999992, 39.999959999999994,
          1097.8806910891421, 1034.0432544150376, 1040.000204, 1143.0001100000002,
          1045.000429, 1053.999813, 1054.9991490000002, 1115.000944, 1055.0005079999999,
          991.00104, 972.999014, 1025.000004, 939.999574, 909.99959, 952.999895,
          872.977037, 847.9985182238521, 816.998424685742, 769.0018294670285,
          827.9994836025099, 837.00437046513, 944.001589053294, 970.079505144432,
          1060.9991830000001, 1094.9998400000002, 1187.9988799999999, 1376.99992,
          1458.0005350000001, 1538.9190799999997, 1735.0027238739874,
          1771.9996036629798, 1791.0029939427, 1859.00053700549, 1851.0032326102,
          1944.0023030490681, 1992.9990586394251, 1972.0031538115843,
          2075.9998278935204, 2055.000550580564, 1994.996668990946, 1870.954831343488,
          1882.9989401217135, 1854.9971959585748, 1809.9956151768, 1724.99566246342,
          1650.9978896239961, 1616.00187478057, 1677.9586229254069, 1587.9968671599797,
          1533.002300298326, 1574.9941122382502, 1508.0045416627845, 1574.969894484784,
          1534.001637318598, 1569.997767193693, 1534.9900438621999, 1377.9896176041482,
          1221.997356136895, 1164.980411890863, 1137.0051742922542, 965.99594630879,
          902.992218064986, 797.9821099013, 753.994533379565, 686.9905622592079,
          589.0023497021562, 499.9865960858175, 483.99576207681497, 449.994344836266,
          479.992987520475, 406.00063275095, 407.99288628164004, 376.99918795002503,
          362.997581683614, 287.991719541585, 317.99545239144004, 317.9955219618845,
          320.99525242469997, 259.99470633487493, 311.996356350781, 256.9950620223,
          227.00029886670401, 169.999914692525, 178.00012262929502, 133.000120770048,
          105.99997440259601, 68.00000987086001, 54.999978999999996, 38.000003,
          37.999984, 33.000006, 19.000001, 19.000001, 8, 7.000002, 2.000001, 2.000001,
          1, 1, 1, 2, 1041.1154334344646, 951.0403210609579, 965.999106,
          1027.9998219999998, 991.999763, 998.000237, 971.000373, 1001.99871,
          923.000167, 1012.0007360000001, 946.999808, 915.99988, 895.00008, 877.00065,
          897.99953, 850.999963, 761.000061, 717.9999399999999, 665.00037, 706.000185,
          687.000751, 781.0002000000001, 845.0002430000001, 926.906855,
          1013.1026451814749, 1043.000188, 1186.914552, 1325.006722406249,
          1445.00208984649, 1483.0019833465, 1525.004123787648, 1582.0026831136959,
          1657.001988078869, 1691.0021349664562, 1761.000152071625, 1785.9982592722106,
          1733.0009291560482, 1751.9995259575242, 1742.99972298848, 1749.996445542402,
          1626.0007115415692, 1624.9961382918411, 1522.000352839204, 1499.99956534736,
          1512.000308097504, 1430.9989398969528, 1381.001322800075, 1434.998346644976,
          1342.99808989929, 1257.0012007462362, 1295.998857176016, 1229.97453367278,
          1222.9989857218798, 1187.9982419358598, 1117.999514033122, 1120.9957467333597,
          1026.9946107245898, 913.99757350071, 855.984198505035, 886.009197,
          761.996751508769, 677.9968278975899, 602.9993342751, 580.9859065736874,
          548.997401931641, 516.0063703209361, 438.98818497288, 416.99811547862197,
          388.99959328571595, 381.99924377272, 371.0008000006875, 387.99283028543596,
          295.00111388447493, 304.99502398052005, 240.99653620552502, 271.995625869546,
          224.99782762662147, 259.99747961321, 238.99506679508, 245.995385879194,
          238.993999880338, 196.99618148655, 176.98732752172, 130.992879862325,
          129.994596536092, 94.993114774508, 88.996508886601, 60.9909698806,
          57.99001234615, 40.99236371277, 30.0047809285725, 25.991214333334998,
          22.9965345, 15.999995, 8, 9.000002, 9, 2.000001, 4, 1, 1
        ),
      )

---

    Code
      constructive::construct(combined_grouped_snapshot)
    Output
      tibble::tibble(
        year = rep(2019L, 12L),
        spatial_unit = rep("Aargau", 12L),
        age = rep(c("age_00_19", "age_20_64", "age_65_plus"), each = 4L),
        sex = rep(rep(c("f", "m"), 3), each = 2L),
        nat = rep(c("ch", "int"), 6),
        n_benchmark = c(49279, 17818, 52389, 19323, 151860, 56115, 149279, 66770, 59729, 6311, 49814, 7158),
        n_projected = c(
          49128.959094843914, 18118.15513549542, 52076.20367327997, 19565.899512483313,
          151780.86494854031, 56379.86485201082, 149262.80044591974, 67028.79928317391,
          59846.45076313257, 6331.87968062073, 49991.57460401097, 7238.926819147352
        ),
      )

---

    Code
      constructive::construct(combined_grouped_snapshot_5)
    Output
      tibble::tibble(
        year = rep(2019L, 20L),
        spatial_unit = rep("Aargau", 20L),
        age = rep(c("age_00_19", "age_20_39", "age_40_59", "age_60_79", "age_80_plus"), each = 4L),
        sex = rep(rep(c("f", "m"), 5), each = 2L),
        nat = rep(c("ch", "int"), 10),
        n_benchmark = c(
          49279, 17818, 52389, 19323, 59412, 27663, 60110, 31427, 73849, 25315, 71395,
          31307, 60578, 8104, 56217, 9838, 17750, 1344, 11371, 1356
        ),
        n_projected = c(
          49128.959094843914, 18118.15513549542, 52076.20367327997, 19565.899512483313,
          59374.97214320883, 27715.942194715673, 60136.9867311738, 31512.013556723323,
          73798.93429277728, 25490.94643510836, 71334.87804218639, 31408.830356536746,
          60678.77222648937, 8157.935420157956, 56293.69783662225, 9981.886707806872,
          17774.637049197398, 1346.9204826495616, 11488.812439948259, 1364.995481254328
        ),
      )

